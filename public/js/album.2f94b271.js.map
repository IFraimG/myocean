{"version":3,"sources":["webpack:///./src/views/Album.vue?0077","webpack:///./src/views/Album.vue?9897","webpack:///src/views/Album.vue","webpack:///./src/views/Album.vue?f6d2","webpack:///../../../src/components/VBreadcrumbs/VBreadcrumbsItem.ts","webpack:///../../../src/components/VBreadcrumbs/VBreadcrumbsDivider.ts","webpack:///../../../src/components/VBreadcrumbs/VBreadcrumbs.ts","webpack:///./src/views/Album.vue?ac71"],"names":["_vm","this","_h","$createElement","_c","_self","scopedSlots","_u","key","fn","proxy","staticClass","attrs","path","_v","staticStyle","on","imageSave","albumDelete","imageList","_l","img","index","isEdit","isEditRed","isMaxLength","isEditData","isEditRedData","isMaxLengthData","staticRenderFns","name","components","data","album","methods","mixins","props","activeClass","type","default","ripple","Boolean","computed","classes","disabled","render","h","tag","isActive","undefined","$slots","divider","items","large","themeClasses","genDivider","VBreadcrumbsDivider","genItems","hasSlot","$scopedSlots","keys","i","item","VBreadcrumbsItem","length","children","class","component","VBreadcrumbs","VBtn","VCard","VDivider","VIcon","VImg","VSpacer","VToolbar"],"mappings":"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","file":"js/album.2f94b271.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&id=7abc55e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&id=7abc55e6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NotAuth',{scopedSlots:_vm._u([{key:\"error\",fn:function(){return undefined},proxy:true},{key:\"loading\",fn:function(){return undefined},proxy:true},{key:\"default\",fn:function(){return [_c('div',{staticClass:\"album__wrapper d-flex flex-row\"},[_c('div',[_c('Panel')],1),_c('v-card',{staticClass:\"album\"},[_c('v-toolbar',{staticClass:\"album__top\"},[_c('v-breadcrumbs',{attrs:{\"items\":_vm.path,\"large\":\"\"},scopedSlots:_vm._u([{key:\"divider\",fn:function(){return [_c('v-icon',[_vm._v(\"mdi-chevron-right\")])]},proxy:true}])}),_c('v-spacer'),_c('v-btn',{staticStyle:{\"color\":\"#fff\",\"margin-right\":\"20px\"},attrs:{\"color\":\"myPurple\"}},[_c('label',{attrs:{\"for\":\"load\"}},[_vm._v(\" Добавить изображение \"),_c('input',{staticClass:\"hide\",attrs:{\"type\":\"file\",\"id\":\"load\"},on:{\"input\":_vm.imageSave}})])]),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":_vm.albumDelete}},[_vm._v(\"Удалить альбом\")])],1),_c('v-divider'),(_vm.imageList != '-')?_c('div',{staticClass:\"album__middle d-flex flex-row flex-wrap justify-center\"},_vm._l((_vm.imageList),function(img,index){return _c('div',{key:index},[_c('GalleryImage',{attrs:{\"isEdit\":_vm.isEdit,\"isEditRed\":_vm.isEditRed,\"isMaxLength\":_vm.isMaxLength,\"gallery\":img},on:{\"isEditData\":_vm.isEditData,\"isEditRedData\":_vm.isEditRedData,\"isMaxLengthData\":_vm.isMaxLengthData}})],1)}),0):_c('div',{staticClass:\"d-flex flex-row align-center justify-center\",staticStyle:{\"margin-top\":\"50px\"}},[_c('div',{staticClass:\"text-center\"},[_c('h2',{staticClass:\"display-2\"},[_vm._v(\"Ваш альбом пустой\")]),_c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"Добавьте сюда ваши фотографии\")])]),_c('v-img',{attrs:{\"max-width\":\"300\",\"src\":require(\"../assets/error.jpg\")}})],1)],1)],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <NotAuth>\r\n      <template v-slot:error></template>\r\n      <template v-slot:loading></template>\r\n      <template v-slot:default>\r\n        <div class=\"album__wrapper d-flex flex-row\">\r\n          <div> <Panel /> </div>\r\n          <v-card class=\"album\">\r\n            <v-toolbar class=\"album__top\">\r\n              <v-breadcrumbs :items=\"path\" large>\r\n                <template v-slot:divider>\r\n                  <v-icon>mdi-chevron-right</v-icon>\r\n                </template>\r\n              </v-breadcrumbs>\r\n              <v-spacer></v-spacer>\r\n              <v-btn style=\"color: #fff; margin-right: 20px\" color=\"myPurple\">\r\n                <label for=\"load\">\r\n                  Добавить изображение\r\n                  <input type=\"file\" @input=\"imageSave\" class=\"hide\" id=\"load\" />\r\n                </label>\r\n              </v-btn>\r\n              <v-btn color=\"error\" @click=\"albumDelete\">Удалить альбом</v-btn>\r\n            </v-toolbar>\r\n            <v-divider></v-divider>\r\n            <div \r\n              class=\"album__middle d-flex flex-row flex-wrap justify-center\" \r\n              v-if=\"imageList != '-'\"\r\n            >\r\n              <div v-for=\"(img, index) of imageList\" :key=\"index\">\r\n                <GalleryImage \r\n                  :isEdit=\"isEdit\" \r\n                  :isEditRed=\"isEditRed\" \r\n                  :isMaxLength=\"isMaxLength\" \r\n                  :gallery=\"img\"\r\n                  @isEditData=\"isEditData\" \r\n                  @isEditRedData=\"isEditRedData\" \r\n                  @isMaxLengthData=\"isMaxLengthData\" \r\n                />\r\n              </div>\r\n            </div>\r\n            <div \r\n              style=\"margin-top: 50px\" \r\n              class=\"d-flex flex-row align-center justify-center\" \r\n              v-else\r\n            >\r\n              <div class=\"text-center\">\r\n                <h2 class=\"display-2\">Ваш альбом пустой</h2>\r\n                <p style=\"margin-top: 10px\">Добавьте сюда ваши фотографии</p>\r\n              </div>\r\n              <v-img max-width=\"300\" src=\"../assets/error.jpg\"></v-img>\r\n            </div>\r\n          </v-card>\r\n        </div>\r\n      </template>\r\n    </NotAuth>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GalleryImage from \"../components/gallery/GalleryImage.vue\";\r\nimport NotAuth from \"../components/NotAuth.vue\";\r\nimport Panel from \"../components/Panel.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Album\",\r\n  components: { GalleryImage, NotAuth, Panel },\r\n  data() {\r\n    return {\r\n      isEdit: false,\r\n      isEditRed: false,\r\n      isMaxLength: \"\",\r\n      path: [\r\n        {\r\n          text: 'Моя галерея',\r\n          disabled: false,\r\n          href: \"\",\r\n        },\r\n        {\r\n          text: 'Альбом',\r\n          disabled: false\r\n        },\r\n      ],\r\n      album: \"\",\r\n      imageList: []\r\n    }\r\n  },\r\n  async created() {\r\n    this.path[0].href = \"/#/gallery/\" + this.$route.params.id\r\n    let res = await axios.get(\"/api/users/get_album/\" + this.$route.params.id + '/' +\r\n      this.$route.params.album)\r\n    this.album = res.data\r\n    this.path[1].text = this.album.title\r\n\r\n    let response = await axios.get(\"/api/users/get_images/\" + this.$route.params.id,\r\n      { params: { album: this.album.images }})\r\n    this.imageList = response.data\r\n  },\r\n  methods: {\r\n    async imageSave(event) {\r\n      let img = event.target.files[0]\r\n      let formData = new FormData()\r\n      formData.set(\"image\", img, img.name)\r\n      let res = await axios.put(\"/api/users/image-album-save/\" + \r\n      this.$route.params.id + '/' + this.$route.params.album, formData,\r\n        { headers: { \"Content-Type\": \"multipart/form-data\" }})\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n    },\r\n    async albumDelete() {\r\n      let res = await axios.delete(\"/api/users/album_delete/\" + this.$route.params.id +\r\n        '/' + this.$route.params.album)\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n      this.$router.push({ name: 'Gallery', params: { id: this.$route.params.id }})\r\n    },\r\n    isEditData(data) { this.isEdit = data },\r\n    isEditRedData(data) { this.isEditRed = data },\r\n    isMaxLengthData(data) { this.isMaxLength = data }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.album {\r\n  width: 1170px;\r\n  min-height: 500px;\r\n  margin-bottom: 50px;\r\n  &__wrapper {\r\n    margin-top: 100px;\r\n    margin-left: 20px;\r\n  }\r\n  &__middle {\r\n    margin-top: 40px;\r\n  }\r\n}\r\n.hide {\r\n  position: absolute;\r\n  overflow: hidden;\r\n  z-index: -1;\r\n  width: 0.1px;\r\n  height: 0.1px;\r\n  opacity: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=js&\"","import Routable from '../../mixins/routable'\n\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(Routable).extend({\n  name: 'v-breadcrumbs-item',\n\n  props: {\n    // In a breadcrumb, the currently\n    // active item should be dimmed\n    activeClass: {\n      type: String,\n      default: 'v-breadcrumbs__item--disabled',\n    },\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-breadcrumbs__item': true,\n        [this.activeClass]: this.disabled,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    return h('li', [\n      h(tag, {\n        ...data,\n        attrs: {\n          ...data.attrs,\n          'aria-current': this.isActive && this.isLink ? 'page' : undefined,\n        },\n      }, this.$slots.default),\n    ])\n  },\n})\n","import { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('v-breadcrumbs__divider', 'li')\n","// Styles\nimport './VBreadcrumbs.sass'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\n// Components\nimport VBreadcrumbsItem from './VBreadcrumbsItem'\nimport VBreadcrumbsDivider from './VBreadcrumbsDivider'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport mixins from '../../util/mixins'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-breadcrumbs',\n\n  props: {\n    divider: {\n      type: String,\n      default: '/',\n    },\n    items: {\n      type: Array as PropType<any[]>,\n      default: () => ([]),\n    },\n    large: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-breadcrumbs--large': this.large,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genDivider () {\n      return this.$createElement(VBreadcrumbsDivider, this.$slots.divider ? this.$slots.divider : this.divider)\n    },\n    genItems () {\n      const items = []\n      const hasSlot = !!this.$scopedSlots.item\n      const keys = []\n\n      for (let i = 0; i < this.items.length; i++) {\n        const item = this.items[i]\n\n        keys.push(item.text)\n\n        if (hasSlot) items.push(this.$scopedSlots.item!({ item }))\n        else items.push(this.$createElement(VBreadcrumbsItem, { key: keys.join('.'), props: item }, [item.text]))\n\n        if (i < this.items.length - 1) items.push(this.genDivider())\n      }\n\n      return items\n    },\n  },\n\n  render (h): VNode {\n    const children = this.$slots.default || this.genItems()\n\n    return h('ul', {\n      staticClass: 'v-breadcrumbs',\n      class: this.classes,\n    }, children)\n  },\n})\n","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=7abc55e6&scoped=true&\"\nimport script from \"./Album.vue?vue&type=script&lang=js&\"\nexport * from \"./Album.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&id=7abc55e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7abc55e6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBreadcrumbs } from 'vuetify/lib/components/VBreadcrumbs';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBreadcrumbs,VBtn,VCard,VDivider,VIcon,VImg,VSpacer,VToolbar})\n"],"sourceRoot":""}