(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bookmarks"],{9756:function(t,e,a){},ad8e:function(t,e,a){"use strict";var s=a("9756"),r=a.n(s);r.a},b51b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-row",staticStyle:{"margin-top":"100px"}},[s("div",{staticStyle:{"margin-left":"20px"}},[s("Panel")],1),t.isLoading?s("Loader"):t._e(),s("div",{staticClass:"bookmarks"},[s("div",{staticClass:"bookmarks__left"},[t.dataPosts.length>0?s("div",[s("v-card",{staticClass:"bookmarks__title"},[s("h2",[t._v("Закладки")])]),t._l(t.dataPosts,(function(e,a){return s("div",{key:a},[s("v-card",{staticStyle:{padding:"20px","margin-bottom":"30px"}},[s("div",{staticClass:"account__post__top d-flex flex-row justify-space-between align-center",staticStyle:{"border-bottom":"5px"}},[s("div",{staticClass:"d-flex flex-row align-center"},[t.isImg&&e.additionally.img?s("v-img",{staticClass:"account__post__image",attrs:{src:"/"+e.additionally.img}}):s("div",{staticClass:"account__post__image"}),s("h2",{on:{click:function(a){return t.$router.push({name:"Account",params:{id:e.authorId}})}}},[t._v(" "+t._s(e.firstname)+" "+t._s(e.lastname)+" ")]),e.category?s("v-chip",{staticClass:"ma-2",staticStyle:{cursor:"pointer",color:"#fff !important"},attrs:{color:"myPurple"}},[t._v(" "+t._s(e.category)+" ")]):t._e(),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on;return[s("v-chip",t._g({staticClass:"account__post__level",attrs:{color:"myPurple"}},r),[t._v(" "+t._s(e.authorLevel)+" level ")])]}}],null,!0)},[s("span",[t._v(t._s(e.rank))])])],1),s("h3",{staticClass:"account__post__date"},[t._v(t._s(e.date))]),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-icon",t._g({attrs:{color:"purple accent-4",dark:""}},a),[t._v("menu")])]}}],null,!0)},[s("v-list",[s("v-list-item",{staticClass:"account__post__edit",on:{click:function(a){return t.postDelete(e)}}},[s("v-list-item-title",[t._v("Удалить из закладок")])],1)],1)],1)],1),s("div",{staticClass:"account__post__text",domProps:{innerHTML:t._s(e.text)}}),e.images?s("div",t._l(e.images,(function(t,e){return s("div",{key:e,staticStyle:{"margin-bottom":"30px"}},[s("v-img",{attrs:{"max-height":"300",src:"/"+t}})],1)})),0):t._e(),s("div",{staticClass:"account__post__bottom d-flex flex-row"},[s("div",{staticClass:"account__post__stats account__post__likes d-flex flex-row",on:{click:function(a){return t.addLike(e)}}},[s("v-icon",[t._v("favorite")]),e.countLikes?s("h3",[t._v(t._s(e.countLikes))]):s("h3",[t._v("0")])],1),s("div",{staticClass:"account__post__stats account__post__views d-flex flex-row",attrs:{title:e.views+" Просмотров"}},[s("v-icon",[t._v("visibility")]),s("h3",[t._v(t._s(e.views))])],1)])])],1)}))],2):t._e(),0!=t.dataPosts.length||t.isLoading?t._e():s("div",{staticClass:"bookmarks__nobookmarks d-flex flex-row align-center"},[s("h2",[t._v("Вы не сохранили ни одного поста в закладки")]),s("v-img",{attrs:{src:a("f6de"),width:"200",height:"200"}})],1)]),s("div",{staticClass:"bookmarks__right"})])],1)},r=[],i=a("b85c"),n=(a("96cf"),a("1da1")),o=a("9c97"),c=a("555f"),l=a("bc3a"),u=a.n(l),_=(a("cb7e"),{name:"Bookmarks",metaInfo:{title:"MyOcean - Мои закладки"},components:{Panel:o["a"],Loader:c["a"]},data:function(){return{dataPosts:[],user:"",isLoading:!0,isImg:!1}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user=JSON.parse(localStorage.getItem("user")),t.user){e.next=3;break}return e.abrupt("return",t.$router.push("/"));case 3:if(e.prev=3,0==t.user.bookmarks.length){e.next=29;break}return e.next=7,u.a.get("/api/posts/get_bookmarks/"+t.user.bookmarks);case 7:a=e.sent,s=Object(i["a"])(a.data),e.prev=9,s.s();case 11:if((r=s.n()).done){e.next=21;break}return n=r.value,e.next=15,u.a.get("/api/users/get_authors/"+n.authorId);case 15:o=e.sent,c=Object.assign(o.data,n),t.dataPosts.push(c),t.isImg=!0;case 19:e.next=11;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](9),s.e(e.t0);case 26:return e.prev=26,s.f(),e.finish(26);case 29:t.isLoading=!1,e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](3),t.isLoading=!1;case 35:case"end":return e.stop()}}),e,null,[[3,32],[9,23,26,29]])})))()},methods:{postDelete:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u.a.delete("/api/users/post_delete/"+t.id+"/"+e.user.id);case 2:s=a.sent,localStorage.setItem("user",JSON.stringify(s.data));case 4:case"end":return a.stop()}}),a)})))()}}}),d=_,v=(a("ad8e"),a("2877")),p=a("6544"),m=a.n(p),f=a("b0af"),g=a("cc20"),k=a("132d"),b=a("adda"),h=a("8860"),x=a("da13"),w=a("5d23"),y=a("e449"),C=a("3a2f"),L=Object(v["a"])(d,s,r,!1,null,"7148c837",null);e["default"]=L.exports;m()(L,{VCard:f["a"],VChip:g["a"],VIcon:k["a"],VImg:b["a"],VList:h["a"],VListItem:x["a"],VListItemTitle:w["b"],VMenu:y["a"],VTooltip:C["a"]})},cb7e:function(t,e,a){},f6de:function(t,e,a){t.exports=a.p+"img/error.1212787b.jpg"}}]);
//# sourceMappingURL=bookmarks.a5d7b871.js.map